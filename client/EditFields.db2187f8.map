{"version":3,"sources":["components/EditFields.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,MAAA,MAAA,GAAA,CACA;AACA,EAAA,KAAA,EAAA,WADA;AAEA,EAAA,SAAA,EAAA,WAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CADA,EAMA;AACA,EAAA,KAAA,EAAA,WADA;AAEA,EAAA,SAAA,EAAA,UAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CANA,EAWA;AACA,EAAA,KAAA,EAAA,SADA;AAEA,EAAA,SAAA,EAAA,QAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CAXA,EAgBA;AACA,EAAA,KAAA,EAAA,MADA;AAEA,EAAA,SAAA,EAAA,UAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CAhBA,EAqBA;AACA,EAAA,KAAA,EAAA,oBADA;AAEA,EAAA,SAAA,EAAA,OAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CArBA,EA0BA;AACA,EAAA,KAAA,EAAA,QADA;AAEA,EAAA,SAAA,EAAA,QAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CA1BA,EA+BA;AACA,EAAA,KAAA,EAAA,SADA;AAEA,EAAA,SAAA,EAAA,SAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CA/BA,EAoCA;AACA,EAAA,KAAA,EAAA,YADA;AAEA,EAAA,SAAA,EAAA,YAFA;AAGA,EAAA,IAAA,EAAA;AAHA,CApCA,CAAA;eA2CA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA,EAFA;;AAIA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GATA;;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,GAAA;AACA,aAAA,MAAA;AACA;;AAHA,GAVA;;AAgBA,QAAA,gBAAA,GAAA;AACA,QAAA;AACA,YAAA;AAAA,QAAA;AAAA,UAAA,MAAA,KAAA,IAAA,CAAA,SAAA,IAAA,EAAA,CAAA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,KAHA,CAGA,OAAA,EAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA,EAAA,CAAA,OAAA;AACA;AACA,GAvBA;;AAwBA,EAAA,gBAAA,GAAA;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,yCAAA,CAAA;AACA,IAAA,MAAA,GAAA,IAAA,EAAA,GAAA,IAAA,CAAA,KAAA,CAAA;AACA,GA3BA;;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,EAAA;AACA,aAAA,WAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,MAAA,CAAA,IAAA;AACA,OAHA,MAGA;AACA,aAAA,SAAA,CAAA,IAAA,CAAA,0BAAA;AACA;AACA;;AARA;AA7BA","file":"EditFields.db2187f8.map","sourceRoot":"..\\vue","sourcesContent":["<template lang=\"pug\">\n.edit-page-fields\n  h2 Click a field to edit its properties\n    mdc-list\n      mdc-list-item(v-for=\"field of fields\", :text=\"field.label\", @click=\"addField(field)\")\n        mdc-list-item-graphic(slot=\"graphic\", :icon=\"field.icon\")\n        .slug {{ field.slug }}\n\n  article\n    mdc-list(two-line)\n      mdc-list-item(v-for=\"field of fields\", :text=\"field.name\", :secondary=\"field.id\")\n        mdc-list-item-graphic(slot=\"graphic\", :icon=\"field.icon\")\n        .slug {{ field.slug }}\n\n  //mdc-dialog(ref=\"dialog\")\n</template>\n\n<script>\nconst FIELDS = [\n  {\n    label: 'Kort Text',\n    component: 'Textfield',\n    icon: 'short_text',\n  },\n  {\n    label: 'Lång Text',\n    component: 'Textarea',\n    icon: 'notes',\n  },\n  {\n    label: 'WYSIWYG',\n    component: 'Froala',\n    icon: 'art_track',\n  },\n  {\n    label: 'HTML',\n    component: 'Textarea',\n    icon: 'code',\n  },\n  {\n    label: 'Media (bild/video)',\n    component: 'Media',\n    icon: 'image',\n  },\n  {\n    label: 'Nummer',\n    component: 'Number',\n    icon: 'money',\n  },\n  {\n    label: 'Boolesk',\n    component: 'Boolean',\n    icon: 'check_box',\n  },\n  {\n    label: 'Kollektion',\n    component: 'Collection',\n    icon: 'list',\n  },\n];\n\nexport default {\n  name: 'CmsEditFields',\n  components: {},\n\n  data() {\n    return {\n      fields: [],\n      activeField: {}\n    };\n  },\n  computed: {\n    fieldTypes() {\n      return FIELDS;\n    }\n  },\n\n  async beforeRouteEnter() {\n    try {\n      const { fields } = await this.$api(`/page/${page}`);\n      this.fields = fields;\n    } catch(ex) {\n      this.$snackbar.show(ex.message);\n    }\n  },\n  beforeRouteLeave() {\n    const answer = confirm('Är du säker på att du vill lämna sidan?');\n    answer ? next() : next(false);\n  },\n\n  methods: {\n    addField(field) {\n      if(field) {\n        this.activeField = {};\n        this.$refs.dialog.show();\n      } else {\n        this.$snackbar.show('Finns inget sådant fält!');\n      }\n    },\n  },\n};\n</script>\n"]}